# Clarification Summary

## Workflow Purpose
A foundational file-processing utility workflow that automatically reads information from files, parses and transforms their contents (JSON/YAML/CSV), and saves the structured results in an organized way. Designed to provide reliable, repeatable file handling as a shared capability within automated pipelines.

## Trigger
Structured instruction file (JSON/YAML configuration) generated by a system or AI process. The instruction file specifies which files to process, what transformation to apply, and where to save outputs.

## Inputs
- Instruction file (JSON/YAML) containing:
  - List of input files to process
  - Processing instructions (parse format, transformation rules)
  - Output configuration (destination path, format)
- Source files (JSON, YAML, CSV) to be processed

## Outputs
- Processed/transformed data in structured format (JSON by default)
- Execution log with success/failure status for each file
- Optional: error report for failed processing attempts

## Steps (high level)
1. **Load Instruction** - Read and validate the instruction configuration file
2. **Validate Inputs** - Verify input files exist and are accessible
3. **Parse Files** - Read and parse each input file based on its format (JSON/YAML/CSV)
4. **Transform Data** - Apply any specified transformations or extractions
5. **Validate Output** - Ensure processed data meets schema/validation rules
6. **Save Results** - Write processed output to specified destination
7. **Report Status** - Generate execution summary with success/failure details

## Agents Needed
- **FileProcessor** - Handles file reading, parsing, and data extraction
- **DataTransformer** - Applies transformations and data manipulation
- **ResultWriter** - Saves outputs and generates execution reports

## Skills Needed
- File I/O operations (read, write, validate file existence)
- JSON/YAML/CSV parsing and serialization
- Data validation and error handling
- Path manipulation and file system operations
- Execution logging and status reporting

## Edge Cases & Rules
- Handle missing input files gracefully with clear error messages
- Validate file permissions before read/write operations
- Support both single file and batch processing
- Preserve original file encoding (UTF-8, etc.)
- Handle malformed input files with descriptive error reporting
- Ensure atomic writes to prevent partial output files

## Open Questions
None - requirements are clear enough to proceed with design.
