# Module Brief: installation-structure

**Date:** 2026-02-24
**Author:** Tisone
**Module Code:** installation-structure
**Module Type:** Core Framework Enhancement
**Status:** Ready for Development

---

## Executive Summary

Transform agentfile from a tool that pollutes project roots into a professional-grade framework enhancement that respects developer workflows and project organization through invisible integration.

**Module Category:** Infrastructure Enhancement
**Target Users:** Professional developers who value clean project organization - individual developers, team leads, DevOps engineers, and engineering managers
**Complexity Level:** Medium (2 agents, 8 workflows, focused scope)

---

## Module Identity

### Module Code & Name

- **Code:** `installation-structure`
- **Name:** `Installation Structure Enhancement`

### Core Concept

A core framework enhancement that provides zero-clutter agentfile integration using invisible `.agentfile/` directory organization that maintains project purity while enabling seamless migration from existing v0.1.0 installations.

### Personality Theme

Professional and focused with subtle touches of delight - Alex's "Clean slate, fresh start" efficiency and Sam's "Safety first, progress always" thoroughness, embodying the "Clean Code Guild" mission to eliminate "Project Structure Anxiety."

---

## Module Type

**Type:** Core Framework Enhancement

This is not a standalone module or global module, but rather a direct enhancement to the agentfile framework itself. This approach eliminates complexity overhead while ensuring compatibility with agentfile updates and providing a unified installation experience. The enhancement is built directly into agentfile core functionality, allowing backward compatibility during transition.

---

## Unique Value Proposition

**What makes this module special:**

For professional developers, Installation Structure Enhancement provides zero-clutter agentfile integration unlike traditional tool installation because it uses invisible `.agentfile/` directory organization that maintains project purity.

**Why users would choose this module:**

- Eliminates "project organization guilt" - developers can install agentfile without worrying about cluttering their workspace
- Provides professional-grade installation behavior that follows patterns like `.git/`, `.vscode/`, `.github/`
- Includes bulletproof migration utilities for existing v0.1.0 installations
- Enables enterprise-wide standardization without project pollution
- Creates the "invisible integration" experience where tools disappear into the background until needed

---

## User Scenarios

### Target Users

**Primary Users:**
- Individual developers installing agentfile in personal projects
- Team leads maintaining clean codebases across teams  
- DevOps engineers creating project templates and CI/CD pipelines

**Secondary Users:**
- Engineering managers concerned about tool sprawl and project organization
- Open source maintainers who need clean project structures for contributors
- Educators teaching with agentfile in classroom settings

### Primary Use Case

Sarah, a senior software engineer, starts a new React project and wants to add agentfile for AI workflows. She chooses the clean directory installation, and her project root stays perfectly clean with only a single `agentfile.yaml` visible. When she needs agentfile, she knows exactly where to look in the `.agentfile/` directory.

### User Journey

1. **Discovery:** User encounters agentfile and hesitates due to past experiences with cluttered project roots
2. **Installation:** User runs `agentfile init` and chooses clean directory structure
3. **Aha Moment:** User sees their project root stay perfectly clean - "Finally, a tool that respects my project structure"
4. **Usage:** User forgets agentfile is installed until needed, then finds everything organized in `.agentfile/`
5. **Advocacy:** User confidently recommends agentfile to team because it "just works" without clutter

---

## Agent Architecture

### Agent Count Strategy

Dual-agent approach with specialized expertise areas. Alex handles new installations and configuration (efficient, setup-focused), while Sam handles migration of existing installations (cautious, safety-focused). This separation allows each agent to maintain appropriate persona and expertise for their domain.

### Agent Roster

| Agent | Name | Role | Expertise |
|-------|------|------|-----------|
| Setup Specialist | Alex | New installations and configuration | Efficient setup, project templates, configuration management |
| Migration Specialist | Sam | Upgrading existing installations | Safe migration, backup creation, rollback procedures |

### Agent Interaction Model

Alex and Sam work as complementary specialists with clear domain separation. Alex handles all "greenfield" scenarios (new projects, templates), while Sam handles all "brownfield" scenarios (existing installations, migrations). They reference each other when users need the other specialist's expertise.

### Agent Communication Style

Alex: Efficient, helpful, setup-focused with "Clean slate, fresh start" catchphrase
Sam: Cautious, thorough, safety-focused with "Safety first, progress always" catchphrase
Both maintain professional tone while embodying the "Clean Code Guild" mission of eliminating project structure chaos.

---

## Workflow Ecosystem

### Core Workflows (Essential)

- **Clean Installation** - Install agentfile with `.agentfile/` directory structure (Alex)
- **Migration Analysis** - Analyze existing v0.1.0 installations for migration (Sam)

### Feature Workflows (Specialized)

- **Project Template Creation** - Create reusable project templates with agentfile (Alex)
- **Safe Migration** - Execute migration from v0.1.0 to new structure (Sam)
- **Configuration Management** - Set and manage installation structure preferences (Alex)
- **Rollback System** - Restore project state if migration fails (Sam)

### Utility Workflows (Support)

- **Structure Validation** - Verify agentfile installation follows best practices (Both)
- **Migration Report** - Generate detailed migration documentation (Sam)

---

## Tools & Integrations

### MCP Tools

- **Git Integration Tool** - Track file changes during migration, create git commits for structural changes
- **File System Operations Tool** - Advanced file operations for backup creation, directory restructuring, validation
- **Project Analysis Tool** - Analyze project structure, detect existing tools, identify potential conflicts

### External Services

None - works entirely locally for security and reliability

### Integrations with Other Modules

- **BMM (BMad Method)** - Integration with BMM's project setup workflows
- **CIS (Creative Innovation Suite)** - Integration with CIS project creation workflows
- **General BMAD ecosystem** - Offer clean agentfile installation as part of any module's project creation workflows

---

## Creative Features

### Personality & Theming

Professional and focused personality embodying the "Clean Code Guild" - agents are specialists in eliminating "Project Structure Anxiety" through invisible integration. Theme emphasizes precision, respect for developer workflows, and the magic of tools that disappear until needed.

### Easter Eggs & Delighters

- "Clean Code" badge when `agentfile status` shows perfect installation
- "This project is already pristine!" message when attempting migration of clean project
- Hidden `agentfile magic` command showing fun file organization animation
- Alex's "Clean slate, fresh start" and Sam's "Safety first, progress always" catchphrases

### Module Lore

Alex and Sam are "Project Organization Specialists" from the "Clean Code Guild" on a mission to eliminate "Project Structure Anxiety" (PSA). They believe tools should be "seen when needed, invisible when not" - like air conditioning for project structure. Their backstory emphasizes the psychological relief developers feel when tools respect their workspace.

---

## Next Steps

1. **Review this brief** - Ensure the vision is clear and complete
2. **Run create-module workflow** - Build the module structure as Core Framework Enhancement
3. **Create agents** - Use create-agent workflow for Alex and Sam
4. **Create workflows** - Use create-workflow workflow for each of the 8 workflows
5. **Test module** - Install and verify functionality with both new and existing projects

---

_brief created on 2026-02-24 by Tisone using the BMAD Module workflow_
